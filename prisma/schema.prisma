// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

//ตัวอย่างschema
// model Welfare  {
//   id    Int     @id @default(autoincrement())
//   email String  @unique
//   name  String?
//   posts Post[]
// }



//สวัสดิการ
model Welfare  {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  welfareTitle String?
  welfareDescription String?
}


//หน้า สมัครเรียน  (แต่ไม่ใช่แบบฟอร์มสมัคร)
model IndexReg  {
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  irImg String?
  irDescription String? 
}


//ทีมที่ปรึกษา
model Advisor  { 
  id String  @id @default(auto()) @map("_id") @db.ObjectId
  advisorName String? 
  advisorPosition String? 
  advisorTel String?
  advisorAddress String?
  advisorFB String?
  advisorLine String?

//เชื่อมต่อกับ หน้าแรก เพื่อเอาข้อมูลไปโชว์ในสถิติ
  indexId String?
  IndexPage     IndexPage? @relation(fields: [indexId], references: [id])

}


//หน้าแรก
model IndexPage  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  indexImg String?

  //สถิติดึงข้อมูลมาโชว์
  sFaculty Faculty[]
  sMajor Major[]
  sAdvisor Advisor[]
  sStudent Int? 
  sVistor Int? 

}

//กิจกรรมในหน้า index
model IndexActivity  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  activityTitle String? // ชื่อกิจกรรม
  activityImg String? // รูปกิจกรรม
  activityDescription String? // รายละเอียดขอมูลกิจกรรม
}


//รู้จักพนมวัน  
model AboutPanom  { 
  //เกี่ยวกับโรงเรียน
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  aboutDescription String? // รายละเอียดเกี่ยวกับโรงเรียน
  aboutImage String? // เก็บทั้ง แบนเนอร์ ตราสัญลักษณ์ และสีประจำ

}


//คณะกรรมการ
model Board{
  id String  @id @default(auto()) @map("_id") @db.ObjectId
  boardName String?
  boardImg String?
  boardPosition String?
}


//ฟอร์มสมัคร 
model RegisterForm  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  //ข้อมูลผู้สมัคร
  regId String?
  regIdpersonal String?
  regBirth String?
  regPrefix String?
  regSex String?
  regNation String?
  regName String?
  regLastname String?
  regEname String?
  regElastname String?
  regPhone String?
  regEmail String?


  //ประวัติการศึกษา
  regSchool String?
  regDegree String?
  regGpa String?


  //ข้างล่างเป็นเกี่ยวกับคณะและหลักสูตร
  regProgram String?//หลักสูตร
  regFaculty String?
  regMajor String?
}

//คณะและหลักสูตร
model Faculty  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  //คณะ
  facName String?
  facImg String?
//เชื่อมต่อกับ สาขา
  major Major[]

//เชื่อมต่อกับ หน้าแรก เพื่อเอาข้อมูลไปโชว์ในสถิติ
  indexId String?
  IndexPage  IndexPage? @relation(fields: [indexId], references: [id])

}



//สาขา
model Major  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  majorName String? 
  
  facId String?
  faculty     Faculty? @relation(fields: [facId], references: [id])

//เชื่อมต่อกับ หน้าแรก เพื่อเอาข้อมูลไปโชว์ในสถิติ
  indexId String?
  IndexPage     IndexPage? @relation(fields: [indexId], references: [id])


}


//หน้าติดต่อส่วนโรงเรียน
model ContactSchool  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  //โรงเรียน
  schoolAddress  String?
  schoolTel  String?
  schoolFax  String?
  schoolEmail  String?
  schoolImg  String?



}


//หน้าติดต่อส่วนอาจารย์
model ContactAdvisor  { 
  id  String  @id @default(auto()) @map("_id") @db.ObjectId
  //ที่ปรึกษา (ติดต่อ)
  advisorName  String?
  advisorAddres  String?
  advisorTel  String?
  advisorFB  String?
  advisorLine  String?
}